<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>GluonTS N-BEATS ENSEMBLE Modeling Function (Bridge) — nbeats_ensemble_fit_impl • modeltime.gluonts</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="GluonTS N-BEATS ENSEMBLE Modeling Function (Bridge) — nbeats_ensemble_fit_impl" />
<meta property="og:description" content="GluonTS N-BEATS ENSEMBLE Modeling Function (Bridge)" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76139189-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76139189-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">modeltime.gluonts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/getting-started.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Start Here</li>
    <li>
      <a href="../articles/getting-started.html">Getting Started</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Advanced</li>
    <li>
      <a href="../articles/managing-envs.html">Managing GluonTS Environments</a>
    </li>
    <li>
      <a href="../articles/using-gpus.html">Using GPUs with GluonTS</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference (Functions)</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/business-science/modeltime.gluonts">
    <span class="fas fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>GluonTS N-BEATS ENSEMBLE Modeling Function (Bridge)</h1>
    <small class="dont-index">Source: <a href='https://github.com/business-science/modeltime.gluonts/blob/master/R/parsnip-nbeats.R'><code>R/parsnip-nbeats.R</code></a></small>
    <div class="hidden name"><code>nbeats_ensemble_fit_impl.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>GluonTS N-BEATS ENSEMBLE Modeling Function (Bridge)</p>
    </div>

    <pre class="usage"><span class='fu'>nbeats_ensemble_fit_impl</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>y</span>,
  <span class='va'>freq</span>,
  <span class='va'>prediction_length</span>,
  <span class='va'>id</span>,
  epochs <span class='op'>=</span> <span class='fl'>5</span>,
  batch_size <span class='op'>=</span> <span class='fl'>32</span>,
  num_batches_per_epoch <span class='op'>=</span> <span class='fl'>50</span>,
  learning_rate <span class='op'>=</span> <span class='fl'>0.001</span>,
  learning_rate_decay_factor <span class='op'>=</span> <span class='fl'>0.5</span>,
  patience <span class='op'>=</span> <span class='fl'>10</span>,
  minimum_learning_rate <span class='op'>=</span> <span class='fl'>5e-05</span>,
  clip_gradient <span class='op'>=</span> <span class='fl'>10</span>,
  weight_decay <span class='op'>=</span> <span class='fl'>1e-08</span>,
  init <span class='op'>=</span> <span class='st'>"xavier"</span>,
  ctx <span class='op'>=</span> <span class='cn'>NULL</span>,
  hybridize <span class='op'>=</span> <span class='cn'>TRUE</span>,
  meta_context_length <span class='op'>=</span> <span class='va'>prediction_length</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>4</span><span class='op'>)</span>,
  meta_loss_function <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"sMAPE"</span><span class='op'>)</span>,
  meta_bagging_size <span class='op'>=</span> <span class='fl'>3</span>,
  num_stacks <span class='op'>=</span> <span class='fl'>30</span>,
  num_blocks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>,
  widths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>512</span><span class='op'>)</span>,
  sharing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span>,
  expansion_coefficient_lengths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>32</span><span class='op'>)</span>,
  stack_types <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"G"</span><span class='op'>)</span>,
  scale_by_id <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A dataframe of xreg (exogenous regressors)</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>A numeric vector of values to fit</p></td>
    </tr>
    <tr>
      <th>freq</th>
      <td><p>A <code>pandas</code> timeseries frequency such as "5min" for 5-minutes or "D" for daily.
Refer to <a href='https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases'>Pandas Offset Aliases</a>.</p></td>
    </tr>
    <tr>
      <th>prediction_length</th>
      <td><p>Numeric value indicating the length of the prediction horizon</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>A quoted column name that tracks the GluonTS FieldName "item_id"</p></td>
    </tr>
    <tr>
      <th>epochs</th>
      <td><p>Number of epochs that the network will train (default: 5).</p></td>
    </tr>
    <tr>
      <th>batch_size</th>
      <td><p>Number of examples in each batch (default: 32).</p></td>
    </tr>
    <tr>
      <th>num_batches_per_epoch</th>
      <td><p>Number of batches at each epoch (default: 50).</p></td>
    </tr>
    <tr>
      <th>learning_rate</th>
      <td><p>Initial learning rate (default:  10-3 ).</p></td>
    </tr>
    <tr>
      <th>learning_rate_decay_factor</th>
      <td><p>Factor (between 0 and 1) by which to decrease the learning rate (default: 0.5).</p></td>
    </tr>
    <tr>
      <th>patience</th>
      <td><p>The patience to observe before reducing the learning rate, nonnegative integer (default: 10).</p></td>
    </tr>
    <tr>
      <th>minimum_learning_rate</th>
      <td><p>Lower bound for the learning rate (default:  5x10-5 ).</p></td>
    </tr>
    <tr>
      <th>clip_gradient</th>
      <td><p>Maximum value of gradient. The gradient is clipped if it is too large (default: 10).</p></td>
    </tr>
    <tr>
      <th>weight_decay</th>
      <td><p>The weight decay (or L2 regularization) coefficient. Modifies objective by adding a penalty for having large weights (default  10-8 ).</p></td>
    </tr>
    <tr>
      <th>init</th>
      <td><p>Initializer of the weights of the network (default: “xavier”).</p></td>
    </tr>
    <tr>
      <th>ctx</th>
      <td><p>The mxnet CPU/GPU context. Refer to using CPU/GPU in the mxnet documentation.
(default: NULL, uses CPU)</p></td>
    </tr>
    <tr>
      <th>hybridize</th>
      <td><p>Increases efficiency by using symbolic programming. (default: TRUE)</p></td>
    </tr>
    <tr>
      <th>meta_context_length</th>
      <td><p>The different 'context_length' (also known as 'lookback period') to use for training the models. The 'context_length' is the number of time units that condition the predictions. Default and recommended value: <code>list(multiplier * prediction_length for multiplier in range(2, 7))</code></p></td>
    </tr>
    <tr>
      <th>meta_loss_function</th>
      <td><p>The different 'loss_function' (also known as metric) to use for training the models. Unlike other models in GluonTS this network does not use a distribution. Default and recommended value: <code><a href='https://rdrr.io/r/base/list.html'>list("sMAPE", "MASE", "MAPE")</a></code></p></td>
    </tr>
    <tr>
      <th>meta_bagging_size</th>
      <td><p>The number of models that share the parameter combination of 'context_length' and 'loss_function'. Each of these models gets a different initialization random initialization. Default (3). Recommended value: 10</p></td>
    </tr>
    <tr>
      <th>num_stacks</th>
      <td><p>The number of stacks the network should contain. Default and recommended value for generic mode: 30 Recommended value for interpretable mode: 2</p></td>
    </tr>
    <tr>
      <th>num_blocks</th>
      <td><p>The number of blocks per stack. A list of ints of length 1 or 'num_stacks'. Default and recommended value for generic mode: 1. Recommended value for interpretable mode: 3.</p></td>
    </tr>
    <tr>
      <th>widths</th>
      <td><p>Widths of the fully connected layers with ReLu activation in the blocks. A list of ints of length 1 or 'num_stacks'. Default and recommended value for generic mode: <code><a href='https://rdrr.io/r/base/list.html'>list(512)</a></code> Recommended value for interpretable mode: <code><a href='https://rdrr.io/r/base/list.html'>list(256, 2048)</a></code></p></td>
    </tr>
    <tr>
      <th>sharing</th>
      <td><p>Whether the weights are shared with the other blocks per stack. A list of ints of length 1 or 'num_stacks'. Default and recommended value for generic mode: <code><a href='https://rdrr.io/r/base/list.html'>list(FALSE)</a></code> Recommended value for interpretable mode: <code><a href='https://rdrr.io/r/base/list.html'>list(TRUE)</a></code></p></td>
    </tr>
    <tr>
      <th>expansion_coefficient_lengths</th>
      <td><p>If the type is "G" (generic), then the length of the expansion coefficient. If type is "T" (trend), then it corresponds to the degree of the polynomial. If the type is "S" (seasonal) then its not used. A list of ints of length 1 or 'num_stacks'. Default value for generic mode: <code><a href='https://rdrr.io/r/base/list.html'>list(32)</a></code> Recommended value for interpretable mode: <code><a href='https://rdrr.io/r/base/list.html'>list(3)</a></code></p></td>
    </tr>
    <tr>
      <th>stack_types</th>
      <td><p>One of the following values: "G" (generic), "S" (seasonal) or "T" (trend). A list of strings of length 1 or 'num_stacks'. Default and recommended value for generic mode: <code><a href='https://rdrr.io/r/base/list.html'>list("G")</a></code> Recommended value for interpretable mode: <code><a href='https://rdrr.io/r/base/list.html'>list("T","S")</a></code></p></td>
    </tr>
    <tr>
      <th>scale_by_id</th>
      <td><p>Scales numeric data by group using mean = 0, standard deviation = 1 transformation. (default: FALSE)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The total number of models used is:</p>
<p><code>meta_context_length x meta_loss_function x meta_bagging_size</code></p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matt Dancho.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


